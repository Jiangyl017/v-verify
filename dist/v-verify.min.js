!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e["v-verify"]=t()}(this,function(){"use strict";function e(e){var t={};return"Boolean Number String Function Array Date RegExp Object tips".split(" ").forEach(function(e,n){t["[object "+e+"]"]=e.toLowerCase()}),null==e?String(e):"object"==typeof e||"function"==typeof e?t[t.toString.call(e)]||"object":typeof e}function t(t,n){var r=null;switch(e(t)){case"regexp":r=function(e){return!!t.test(e)};break;case"array":r=function(e){for(var n=!0,r=0;r<t.length&&("regexp"===_typeof(t[r])&&(n=t[r].test(e)),n);r++);return n};break;case"function":r=function(e){return t(e)};break;default:r=function(e){throw new function(){return"type wrong in the config file"}}}return r(n)}function n(e){this.verify=function(n,r){var i=e[n];if(!i||!i.reg)throw new function(){return"the "+n+" is undefined"};return t(i.reg,r)},this.verifyAll=function(e){return u.fireEvent(e)}}function r(e,t,n){function r(e){if(!e)throw new function(){return"the directive v-verify value is undefined"};return e.split("|")}function i(e,i,o){var f=r(i),u="";if(f){for(var c=0;c<f.length;c++){var a=f[c].trim();{if(!n(a,e)){u=t[a]?t[a].msg:"";break}u=""}}return o.innerText=u,""===u}}function o(e,t,n){var r=e.getAttribute("data-verify-submit");r&&u.addEvent(r,function(e,t,n){return function(){return i(e.value,t.value,n)}}(e,t,n))}function f(e,t,n,r){t.forEach(function(t){"initial"!==t?e.addEventListener(t,function(e){i(e.target.value,n,r)}):i(e.value,n,r)})}e.directive("verify",{inserted:function(e,t,n){var r=Object.keys(t.modifiers).length?Object.keys(t.modifiers):["change"],i=e.getAttribute("data-verify-dom"),u=i?e.parentNode.querySelector(i):null;o(e,t,u),f(e,r,t.value,u)},unbind:function(e){var t=e.getAttribute("data-verify-submit");t&&u.getListener(t)&&u.removeEvent(t)}})}function i(e,t){void 0===t&&(t={});t.tips;var i=Object.assign(o,t.validators={});try{e.prototype.$validator=new n(i),r(e,i,e.prototype.$validator.verify)}catch(e){console.error(e+"\nfrom v-verify")}}var o={required:{reg:function(e){return void 0!==e&&null!==e&&""!==e&&!!String(e).trim().length},msg:"必填选项，请填写"},number:{reg:function(e){return/^[0-9]+$/.test(String(e))},msg:"您填写的内容包含非数字"},date:{reg:/^[1|2][0-9]{3}-[0-1][0-9]-[0-3][0-9]$/,msg:"您填写的日期格式不正确"}},f={},u={addEvent:function(e,t){if(!e||!t||"string"!=typeof e||"function"!=typeof t)throw new Error("传入的参数不符合要求！");void 0===f[e]&&(f[e]=[]),f[e].push(t)},fireEvent:function(e){var t=f[e],n=[];if(!e||!t||!t.length)throw new Error("无该类型事件");return t.forEach(function(t){"function"==typeof t&&n.push(t({type:e}))}),n},removeEvent:function(e,t){var n=f[e];if(!e||!n||!n.length)throw new Error("无该类型事件");if("function"==typeof t){for(var r=0;r<n.length;r++)if(n[r]===t){f[e].splice(r,1);break}}else delete f[e]},getListener:function(e){return f[e]}};return"undefined"!=typeof window&&window.Vue&&i(window.Vue),{install:i}});